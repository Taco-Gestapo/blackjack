<!DOCTYPE html>
<html>
<head>
  <title>Blackjack</title>

<style type="text/css">

html, body, h1 {
  padding: 0;
  margin: 0;
  font-family: helvetica, arial, sans-serif;
}

h1 {
  padding: 10px;
  font-weight: 100;
}

button {
  margin: 10px;
  width: 100px;
  height: 30px;
  font-family: helvetica, arial, sans-serif;
}

.button-click,
.button-click:focus,
.button-click:hover {
  background-color: red;
  color: white;
}

button:hover {
  background-color: #dddddd;
}

button:focus {
  outline: none;
}

.container {
  text-align: center;
  margin-top: 50px;
}


.draw-result2 {
  display: inline-block;
}

.result-cont {
  width: 100%;
}

.draw-result2 {
  width: 200px;
}

.draw-result {
  width: 200px;
}

.dealer {
  width: 150px;
  margin: 0 auto;
}

.dealer span,
.dealer div {
  display: inline-block;
  vertical-align: top;
}

.cards {
  width: 80px;
}


</style>
</head>
<body>
  <div class="container">
    <div class="button-cont">
      <h1>Try your luck!</h1>
       <div class="dealer"><span>Dealer: </span><div id="dealer"></div></div>
      <button onclick="getCards()" id="button">Hit</button>
      <button onclick="holdCards()" id="buttonStand">Stand</button>
      <a href=""><button id="buttonNew">New Hand</button></a>
    </div>
    <div class="result-cont">
      <div class="draw-result1" id="draw-data1">

      </div>

      <div class="draw-result2" id="draw-data2"></div>
    </div>
  </div>


<script type="text/javascript">

function pickSuit() {
  var suit = Math.floor((Math.random()*3)+1);;
  if(suit == 1)
 return "Spades";

 if(suit == 2)
 return "Clubs";

 if(suit == 3)
 return "Diamonds";

 return "Hearts";
}

function cardValue(card) {
  if(card == 1)
  return 11;

  if(card > 10)
  return 10;

  return card;
}

var specialCards = {
  1: "Ace",
  11: "Jack",
  12: "Queen",
  13: "King",
};

function cardName(card) {
  if (card in specialCards) {
    card = specialCards[card];
  }
  card = card.toString();
  var ssuit = pickSuit();
  console.log("shouldbe string=" + card)
  var end = card + ssuit
  return end;
}



function pickaCard() {
  var card = Math.floor((Math.random()*13)+1);
  // var suit = pickSuit();
  return card;
}


function showCard(value) {
  if (value == cardStorageUser[u] || value == cardStorageUser[1] || value == cardStorageUser[3] || cardStorageUser[4]) {
    console.log("cardstorageu=" + cardStorageUser[u]);
    var csu = value;
    console.log("value=" + csu);
    console.log("array=" + cardStorageUser);
    var cardNames = cardName(csu);
    console.log("cardname=" + value);
    newtest.push(cardNames);
   console.log("what is new array" + newtest);
   console.log("new test0" + newtest[0])
  }

  return cardNames;
  //   var csu = cardStorageUser[u];
  //   var cardName = showCard(csu);
  //   var csu = cardName;
  // } else if (value == cardStorageDealer[i]) {
  //   var csd = cardStorageDealer[i];
  //   var cardName = showCard(csd);
  //   var csd = cardName;
  // }
  // console.log("cardStorageDealer[u]")
}

var newtest = [];
var ssuit = 0;
var csu = 0;
var cardStorageUser = [];
var cardStorageDealer = [];
var cardDealer = 0;
var cardUser = 0;
var totalD = 0;
var totalU = 0;
var i = 0;
var u = 0;
var c = 0;
var run = 1;


  var pics =
    {
      AceHearts: 'Hearts/AH.svg',
      AceClubs: 'Clubs/AC.svg',
      AceSpades: 'Spades/AS.svg',
      '2Hearts' : 'Hearts/2H.svg',
      '3Hearts' : 'Hearts/3H.svg',
      '4Hearts' : 'Hearts/4H.svg',
      '5Hearts' : 'Hearts/5H.svg',
      '6Hearts' : 'Hearts/6H.svg',
      '7Hearts' : 'Hearts/7H.svg',
      '8Hearts' : 'Hearts/8H.svg',
      '9Hearts' : 'Hearts/9H.svg',
      '10Hearts' : 'Hearts/10H.svg',
      JackHearts: 'Hearts/JH.svg',
      QueenHearts: 'Hearts/QH.svg',
      KingHearts: 'Hearts/KH.svg',
      '2Diamonds' : 'Diamonds/2D.svg',
      '3Diamonds' : 'Diamonds/3D.svg',
      '4Diamonds' : 'Diamonds/4D.svg',
      '5Diamonds' : 'Diamonds/5D.svg',
      '6Diamonds' : 'Diamonds/6D.svg',
      '7Diamonds' : 'Diamonds/7D.svg',
      '8Diamonds' : 'Diamonds/8D.svg',
      '9Diamonds' : 'Diamonds/9D.svg',
      '10Diamonds' : 'Diamonds/10D.svg',
      JackDiamonds : 'Diamonds/JD.svg',
      QueenDiamonds : 'Diamonds/QD.svg',
      KingDiamonds : 'Diamonds/KD.svg',
      AceDiamonds : 'Diamonds/AD.svg',
      '2Clubs' : 'Clubs/2C.svg',
      '3Clubs' : 'Clubs/3C.svg',
      '4Clubs' : 'Clubs/4C.svg',
      '5Clubs' : 'Clubs/5C.svg',
      '6Clubs' : 'Clubs/6C.svg',
      '7Clubs' : 'Clubs/7C.svg',
      '8Clubs' : 'Clubs/8C.svg',
      '9Clubs' : 'Clubs/9C.svg',
      '10Clubs' : 'Clubs/10C.svg',
      JackClubs : 'Clubs/JC.svg',
      QueenClubs : 'Clubs/QC.svg',
      KingClubs : 'Clubs/KC.svg',
      '2Spades' : 'Spades/2S.svg',
      '3Spades' : 'Spades/3S.svg',
      '4Spades' : 'Spades/4S.svg',
      '5Spades' : 'Spades/5S.svg',
      '6Spades' : 'Spades/6S.svg',
      '7Spades' : 'Spades/7S.svg',
      '8Spades' : 'Spades/8S.svg',
      '9Spades' : 'Spades/9S.svg',
      '10Spades' : 'Spades/10S.svg',
      JackSpades : 'Spades/JS.svg',
      QueenSpades : 'Spades/QS.svg',
      KingSpades : 'Spades/KS.svg',

    }


function getCards() {

  if (c < 4) {
    c = c + 1;
    console.log("varc=" + c);
    var cardDealer = pickaCard();
    var cardUser = pickaCard();

    cardStorageDealer.push(cardDealer);
    cardStorageUser.push(cardUser);

    if (c == 1) {
      document.getElementById("dealer").innerHTML = cardStorageDealer[i] + "<br/>(Total=" + totalDealer() + ")";
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" +pics[showCard(cardStorageUser[u])] + "' /><br/>(Total=" + totalUser() + ")";};
    } else if (c == 2) {
      document.getElementById("dealer").innerHTML = cardStorageDealer[0] +  ", " +cardStorageDealer[i] + "<br/>(Total=" + totalDealer() + ")";
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[showCard(cardStorageUser[u])] + "' /><br/>(Total=" + totalUser() + ")";};
    } else if (c == 3) {
      document.getElementById("dealer").innerHTML = cardStorageDealer[1] + ", " +cardStorageDealer[0] +  ", " +cardStorageDealer[i] + "<br/>(Total=" + totalDealer() + ")";
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[newtest[1]] + "' /><img class='cards' src='" + pics[showCard(cardStorageUser[u])] + "' /><br/>(Total=" + totalUser() + ")";};
    } else if (c == 4) {
      document.getElementById("dealer").innerHTML = cardStorageDealer[2] + ", " + cardStorageDealer[1] + ", " + cardStorageDealer[0] +  ", " +cardStorageDealer[i] + "<br/>(Total=" + totalDealer() + ")";
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[newtest[1]] + "' /><img class='cards' src='" + pics[newtest[2]] + "' /><img class'cards' srd='" + pics[showCard(cardStorageUser[u])] + "' /><br/>(Total=" + totalUser() + ")";};
    }
  }
    if ( c == 4 || totalDealer() > 21 || totalUser() >= 21) {
      lookatHands();
    }
  }

function totalDealer() {
  len = cardStorageDealer.length;

  for (; i < len ; i++ ) {
    totalD = totalD + cardStorageDealer[i];
  }
  return totalD;
}


function totalUser() {
  len = cardStorageUser.length;

  for (; u < len ; u++ ) {
    totalU = totalU + cardStorageUser[u];
  }
  return totalU;
}

function holdCards() {
  run = 0;
  console.log("run=" + run);
  document.getElementById("draw-data1").innerHTML = " ";
  document.getElementById("draw-data2").innerHTML = "Your card total is " + totalUser();
}



function lookatHands() {
  if (totalUser() > 21) {
    alert("Dealer won");
  } else if (totalDealer() > 21 && totalUser() > 21) {
    alert("Both lose");
  } else if (totalUser() > totalDealer()) {
    alert("You win!");
  } else if (totalUser() == totalDealer()) {
    alert("Tie");
  } else if (totalDealer() > 21) {
    alert("House busts! You win!");
  } else {
    alert("House wins!");
  }
}


</script>


</body>
</html>