<!DOCTYPE html>
<html>
<head>
  <title>Blackjack</title>
  <link href='http://fonts.googleapis.com/css?family=Righteous' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,700' rel='stylesheet' type='text/css'>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

<style type="text/css">

body {
  background-color: rgb(79, 155, 79);
  height: 100%;
  margin: 10px;
}

html, body, h1, h2 {
  padding: 0;
  margin: ;
  font-family: 'Source Sans Pro', 'helvetica'; 'arial', sans-serif;
  color: #fff;
  font-size: 16px;
  height: 100%;
}

h1 {
  font-weight: 100;
  font-size: 18px;
}

h1 span {
  font-family: "Righteous";
  font-size: 50px;
  color: rgb(4, 44, 4);
}



.header {
  margin: 20px;
  width: 320px;
  margin: 0 auto;
  padding: 30px;
  border-bottom: 1px solid rgb(140, 184, 138);
}

.button-group {
  margin-top: 10px;
}

button {
  margin: 10px;
  width: 100px;
  height: 30px;
  background-color: #fff;
  border: 0;
  border-radius: 3px;
  font-family: 'Source Sans Pro', helvetica, sans-serif;
  font-size: 14px;
}

h2 {
  margin: 0;
  font-weight: lighter;
  font-size: 30px;
}

h3 {
  margin: 0;
}

.total,
.totald {
 margin-bottom: 25px;
}

.button-click,
.button-click:focus,
.button-click:hover {
  background-color: red;
  color: white;
}

button:hover {
  background-color: #dddddd;
}

button:focus {
  outline: none;
}

.container {
  text-align: center;
  margin-top: 50px;
}

.card-section {
  max-width: 400px;
  margin: 0 auto;
}

.user-section,
.dealer-section {
  float: left;
  position: relative;
}

.user-section img,
.dealer-section img {
  position: absolute;
  fill: blue !important;
  color: blue;
}

.user-section img:first-child,
.dealer-section img:first-child {
  left: 34px;
  transform:rotate(-20deg);
  -ms-transform:rotate(-20deg); /* IE 9 */
  -webkit-transform:rotate(-20deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(2),
.dealer-section img:nth-child(2) {
  left: 54px;
  transform:rotate(-3deg);
  -ms-transform:rotate(-3deg); /* IE 9 */
  -webkit-transform:rotate(-3deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(3),
.dealer-section img:nth-child(3) {
  left: 84px;
  transform:rotate(7deg);
  -ms-transform:rotate(7deg); /* IE 9 */
  -webkit-transform:rotate(7deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(4),
.dealer-section img:nth-child(4) {
  left: 105px;
  top: 73px;
  transform:rotate(17deg);
  -ms-transform:rotate(17deg); /* IE 9 */
  -webkit-transform:rotate(17deg); /* Opera, Chrome, and Safari */
}


.draw-result2 {
  display: inline-block;
}

.result-cont {
  width: 100%;
}

.draw-result2 {
  width: 200px;
}

.draw-result {
  width: 200px;
}

.dealer {
  width: 150px;
  margin: 0 auto;
}

.dealer span,
.dealer div {
  display: inline-block;
  vertical-align: top;
}

.cards,
.cards-dealer {
  width: 80px;
}

.fa-star-o {
  font-size: 100px;
  color: rgb(228, 200, 55);
  text-shadow: 0px 0px 19px rgba(253, 253, 103, 1);
  -webkit-animation: spin 5s infinite linear;
  @-webkit-keyframes spin {
    0%   {-webkit-transform: rotate(0deg)}
    100% {-webkit-transform: rotate(360deg)}
  }
}

.fa-trophy {
  font-size: 30px;
  color: rgb(228, 200, 55);
  margin-left: 10px;
  padding-right: 10px;
  vertical-align: middle;
}

.fa-meh-o {
  font-size: 80px;

}

.fa-frown-o{
  font-size: 80px;
  text-shadow: 0px 0px 19px rgba(255, 255, 255, 1);
  -webkit-animation: spin 5s infinite linear;
  @-webkit-keyframes spin {
    0%   {-webkit-transform: rotate(0deg)}
    100% {-webkit-transform: rotate(360deg)}
  }
}

@media (max-width: 500px) {
  .header {
    width: 250px;
  }


  button {
    margin: 2px;
  }

  .card-section {
    width: 320px;
  }

  h3 {
    display: inline-block;
  }

  .draw-result2 {
    width: 160px;
  }

  .draw-result {
    width: 160px;
  }

  .container {
    margin-top: 20px;
  }

  .user-section img:first-child,
.dealer-section img:first-child {
  left: 24px;
  transform:rotate(-20deg);
  -ms-transform:rotate(-20deg); /* IE 9 */
  -webkit-transform:rotate(-20deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(2),
.dealer-section img:nth-child(2) {
  left: 44px;
  transform:rotate(-3deg);
  -ms-transform:rotate(-3deg); /* IE 9 */
  -webkit-transform:rotate(-3deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(3),
.dealer-section img:nth-child(3) {
  left: 64px;
  transform:rotate(7deg);
  -ms-transform:rotate(7deg); /* IE 9 */
  -webkit-transform:rotate(7deg); /* Opera, Chrome, and Safari */
}

.user-section img:nth-child(4),
.dealer-section img:nth-child(4) {
  left: 105px;
  top: 73px;
  transform:rotate(17deg);
  -ms-transform:rotate(17deg); /* IE 9 */
  -webkit-transform:rotate(17deg); /* Opera, Chrome, and Safari */
}
}

.posteffect {
  position: absolute;
  width: 100%;
  height:100%;
  background-color: rgba(45, 48, 46, 0.6);
  z-index: 12121;
  top: 0;
  bottom: 0;
  padding-top: 20%;
  font-family: "Righteous";
  font-size: 50px;
  color: #fff;
}

.post {
  display: none;
}

.stats {
  border: 1px solid #fff;
  width: 75px;
  padding: 5px;
  display: inline-block;
}

.stats+div {
  display: inline-block;
}

.highscore {
  vertical-align: middle;
}

#highscore {
  padding-left: 3px;
}

.info {
  position: absolute;
  right: 20px;
  top: 12px;
  padding-top: 5px;
  font-size: 20px;
  font-size: 16px;
  font-weight: lighter;
}

.fa-info-circle {
  padding-right: 5px;

}



</style>
</head>
<body>
  <div class="stats-container">
    <div class="stats">Score: <span id="score-standard">0</span></div>
    <div class="highscore"><i class="fa fa-trophy"></i>Highscore: <span id="highscore">0</span>
    </div>
    <div class="info"><i class="fa fa-info-circle"></i>Info</div>
  </div>
  <div class="container">
    <div class="header">
      <h1>Kaitlin's<br /> <span>Blackjack</span></h1>
      <h2>"Try Your Luck!"</h2>
    </div>
    <div class="button-group">
      <button onclick="getCards()" id="button">Hit</button>
      <button onclick="holdCards()" id="buttonStand">Stand</button>
      <button onclick="reset()" id="buttonNew">New Hand</button>
    </div>

    <div  onmousedown="hideclass()" class="post" id="post"></div>

    <div class="card-section">
      <div class="user-section">
        <h3>Your Hand</h3>
        <div class="total" id="total"></div>
        <div class="result-cont">
          <div class="draw-result1" id="draw-data1"></div>
          <div class="draw-result2" id="draw-data2"></div>
        </div>
      </div>
      <div class="dealer-section">
        <h3>Dealers Hand</h3>
        <div class="totald" id="totald"></div>
        <div class="dealer"><div id="dealer"></div></div>
      </div>

  </div>


<script type="text/javascript">

function pickSuit() {
  var suit = Math.floor((Math.random()*3)+1);;
  if(suit == 1)
 return "Spades";

 if(suit == 2)
 return "Clubs";

 if(suit == 3)
 return "Diamonds";

 return "Hearts";
}

function cardValue(card) {
  if(card == 1)
  return 11;

  if(card > 10)
  return 10;

  return card;
}

var specialCards = {
  1: "Ace",
  11: "Jack",
  12: "Queen",
  13: "King",
};

function cardName(card) {
  if (card in specialCards) {
    card = specialCards[card];
  }
  card = card.toString();
  var ssuit = pickSuit();
  var end = card + ssuit
  return end;
}



function pickaCard() {
  var card = Math.floor((Math.random()*13)+1);
  return card;
}


function showCard(value) {
  if (value == cardStorageUser[u] || value == cardStorageUser[1] || value == cardStorageUser[3] || cardStorageUser[4]) {
    var csu = value;
    var cardNames = cardName(csu);
    newtest.push(cardNames);
  }
  return cardNames;
}

function showCardD(value) {
  if (value == cardStorageDealer[i] || value == cardStorageDealer[1] || value == cardStorageDealer[3] || cardStorageDealer[4]) {
    var csu = value;
    var cardNames = cardName(csu);
    cardTypeD.push(cardNames);
  }
  return cardNames;
}

var cardTypeD = [];
var newtest = [];
var ssuit = 0;
var csu = 0;
var cardStorageUser = [];
var cardStorageDealer = [];
var cardDealer = 0;
var cardUser = 0;
var totalD = 0;
var totalU = 0;
var i = 0;
var u = 0;
var c = 0;
var run = 1;


  var pics =
    {
      AceHearts: 'Hearts/AH.svg',
      AceClubs: 'Clubs/AC.svg',
      AceSpades: 'Spades/AS.svg',
      '2Hearts' : 'Hearts/2H.svg',
      '3Hearts' : 'Hearts/3H.svg',
      '4Hearts' : 'Hearts/4H.svg',
      '5Hearts' : 'Hearts/5H.svg',
      '6Hearts' : 'Hearts/6H.svg',
      '7Hearts' : 'Hearts/7H.svg',
      '8Hearts' : 'Hearts/8H.svg',
      '9Hearts' : 'Hearts/9H.svg',
      '10Hearts' : 'Hearts/10H.svg',
      JackHearts: 'Hearts/JH.svg',
      QueenHearts: 'Hearts/QH.svg',
      KingHearts: 'Hearts/KH.svg',
      '2Diamonds' : 'Diamonds/2D.svg',
      '3Diamonds' : 'Diamonds/3D.svg',
      '4Diamonds' : 'Diamonds/4D.svg',
      '5Diamonds' : 'Diamonds/5D.svg',
      '6Diamonds' : 'Diamonds/6D.svg',
      '7Diamonds' : 'Diamonds/7D.svg',
      '8Diamonds' : 'Diamonds/8D.svg',
      '9Diamonds' : 'Diamonds/9D.svg',
      '10Diamonds' : 'Diamonds/10D.svg',
      JackDiamonds : 'Diamonds/JD.svg',
      QueenDiamonds : 'Diamonds/QD.svg',
      KingDiamonds : 'Diamonds/KD.svg',
      AceDiamonds : 'Diamonds/AD.svg',
      '2Clubs' : 'Clubs/2C.svg',
      '3Clubs' : 'Clubs/3C.svg',
      '4Clubs' : 'Clubs/4C.svg',
      '5Clubs' : 'Clubs/5C.svg',
      '6Clubs' : 'Clubs/6C.svg',
      '7Clubs' : 'Clubs/7C.svg',
      '8Clubs' : 'Clubs/8C.svg',
      '9Clubs' : 'Clubs/9C.svg',
      '10Clubs' : 'Clubs/10C.svg',
      JackClubs : 'Clubs/JC.svg',
      QueenClubs : 'Clubs/QC.svg',
      KingClubs : 'Clubs/KC.svg',
      '2Spades' : 'Spades/2S.svg',
      '3Spades' : 'Spades/3S.svg',
      '4Spades' : 'Spades/4S.svg',
      '5Spades' : 'Spades/5S.svg',
      '6Spades' : 'Spades/6S.svg',
      '7Spades' : 'Spades/7S.svg',
      '8Spades' : 'Spades/8S.svg',
      '9Spades' : 'Spades/9S.svg',
      '10Spades' : 'Spades/10S.svg',
      JackSpades : 'Spades/JS.svg',
      QueenSpades : 'Spades/QS.svg',
      KingSpades : 'Spades/KS.svg',

    }


function getCards() {
  if (c < 4) {
    c = c + 1;

    var cardDealer = pickaCard();
    var cardUser = pickaCard();

    cardStorageDealer.push(cardDealer);
    if (run == 1) {
      cardStorageUser.push(cardUser);
    }



    if (c == 1) {
      document.getElementById("dealer").innerHTML = "<img class='cards-dealer' src='" + pics[showCardD(cardStorageDealer[i])] + "' />";
      document.getElementById("totald").innerHTML = "Total= " + totalDealer();
      if (run == 1) {
        document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" +pics[showCard(cardStorageUser[u])] + "' />";
        document.getElementById("total").innerHTML = "Total= " + totalUser();
    };


    } else if (c == 2) {
      document.getElementById("dealer").innerHTML = "<img class='cards-dealer' src='" + pics[cardTypeD[0]] + "' /><img class='cards-dealer' src='" + pics[showCardD(cardStorageDealer[i])] + "' />";
      document.getElementById("totald").innerHTML = "Total= " + totalDealer();
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[showCard(cardStorageUser[u])] + "' />";
      document.getElementById("total").innerHTML = "Total= " + totalUser();
    };


    } else if (c == 3) {
      document.getElementById("dealer").innerHTML = "<img class='cards-dealer' src='" + pics[cardTypeD[1]] + "' /><img class='cards-dealer' src='" + pics[cardTypeD[0]] + "' /><img class='cards-dealer' src='" + pics[showCardD(cardStorageDealer[i])] + "' />";
      document.getElementById("totald").innerHTML = "Total= " + totalDealer();
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[newtest[1]] + "' /><img class='cards' src='" + pics[showCard(cardStorageUser[u])] + "' />";
      document.getElementById("total").innerHTML = "Total= " + totalUser();
    };


    } else if (c == 4) {
      document.getElementById("dealer").innerHTML = "<img class='cards-dealer' src='" + pics[cardTypeD[2]] + "' /><img class='cards-dealer' src='" +  pics[cardTypeD[1]] + "' /><img class='cards-dealer' src='"  + pics[cardTypeD[0]] +  "' /><img class='cards-dealer' src='" + pics[showCardD(cardStorageDealer[i])] + "' />";
      document.getElementById("totald").innerHTML = "Total= " + totalDealer();
      if (run == 1) {document.getElementById("draw-data1").innerHTML = "<img class='cards' src='" + pics[newtest[0]] + "' /><img class='cards' src='" + pics[newtest[1]] + "' /><img class='cards' src='" + pics[newtest[2]] + "' /><img class='cards' src='" + pics[showCard(cardStorageUser[u])] + "' />";
      document.getElementById("total").innerHTML = "Total= " + totalUser();
      };
    }
  }
    if ( c == 4 || totalDealer() >= 21 || totalUser() >= 21) {
      lookatHands();
    }
  }

function totalDealer() {
  len = cardStorageDealer.length;

  for (; i < len ; i++ ) {
    totalD = totalD + cardStorageDealer[i];
  }
  return totalD;
}


function totalUser() {
  len = cardStorageUser.length;

  for (; u < len ; u++ ) {
    totalU = totalU + cardStorageUser[u];
  }
  return totalU;
}

function holdCards() {
  run = 0;
  document.getElementById("draw-data1").innerHTML = " ";
  document.getElementById("draw-data2").innerHTML = "Your card total is " + totalUser();
}


var score = 0;
var highscore = localStorage.getItem('highscore') || 0;
document.getElementById("highscore").innerHTML = highscore;

function win() {
  score++;

  if (score > highscore) {
    highscore = score;
    localStorage.setItem("highscore", highscore);
    document.getElementById("highscore").innerHTML = highscore;
  }

  localStorage.setItem("score", score);
  document.getElementById("score-standard").innerHTML = score;
}

function lookatHands() {
  console.log("totalDealer= " + totalDealer());
  console.log("totalUser= " + totalUser());
  if (totalDealer() > 21 && totalUser() > 21) {
    document.getElementById("post").innerHTML = "<i class='fa fa-meh-o'></i><br/>Both over!";
  } else if (totalUser() > 21) {
    document.getElementById("post").innerHTML = "<i class='fa fa-frown-o'></i><br/>Dealer won";
  } else if (totalUser() > totalDealer()) {
    document.getElementById("post").innerHTML = "<i class='fa fa-star-o'></i><br/>You win!";
    win();
  } else if (totalUser() == totalDealer()) {
    document.getElementById("post").innerHTML = "<i class='fa fa-meh-o'></i><br/>Tie";
  } else if (totalDealer() > 21) {
    document.getElementById("post").innerHTML = "<i class='fa fa-star-o'></i><br/>House busts!<br/> You win!";

    win();
  } else {
    document.getElementById("post").innerHTML = "Dealer wins!";
  }
  document.getElementById("post").className = "posteffect";
}

function hideclass() {
  document.getElementById("post").className = "post";
}

function reset() {
    cardTypeD = [];
    newtest = [];
    ssuit = 0;
    csu = 0;
    cardStorageUser = [];
    cardStorageDealer = [];
    cardDealer = 0;
    cardUser = 0;
    totalD = 0;
    totalU = 0;
    i = 0;
    u = 0;
    c = 0;
    run = 1;
    document.getElementById("draw-data1").innerHTML = "";
    document.getElementById("draw-data2").innerHTML = "";
    document.getElementById("total").innerHTML = "";
    document.getElementById("totald").innerHTML = "";
    document.getElementById("dealer").innerHTML = "";
}



</script>


</body>
</html>