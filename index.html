<!DOCTYPE html>
<html>
<head>
  <title>Blackjack</title>
</head>
<body>
  <div class="container">
    <h1>Try your luck!</h1>
    <button onclick="user()" id="button">Hit</button>
    <button onclick="dealer()" id="buttonStand">Stand</button>
    <button onclick="" id="buttonNew">New Hand</button>
    <div class="draw-result" id="draw-data"></div>
    <div class="draw-result2" id="draw-data2"></div>
  </div>


<script type="text/javascript">

function pickSuit() {
  var suit = Math.floor((Math.random()*4)+1);
  if(suit == 1)
 return "Spades";

 if(suit == 2)
 return "Clubs";

 if(suit == 3)
 return "Diamonds";

 return "Hearts";
}

function cardValue(card) {
  if(card == 1)
  return 11;

  if(card > 10)
  return 10;

  return card;
}

var specialCards = {
  1: "Ace",
  11: "Jack",
  12: "Queen",
  13: "King",
};

function cardName(card) {
  if (card in specialCards) {
    card = specialCards[card];
  }

  return card;
}



function pickaCard(who) {
  var card = Math.floor((Math.random()*13)+1);
  // var suit = pickSuit();

  return card;

//   document.getElementById("draw-data").innerHTML = who + " picked the " + cardName(card) + " of " + suit;
//
}


function dealer() {
  var dealerHand = pickaCard("dealer");
  if (dealerHand < 17) {
    var dealerHand2 = pickaCard("dealer");
  }
    var total = dealerHand + dealerHand2;
  if(total <= 21) {
    var dealerHand3 = pickaCard("dealer");
    var total = dealerHand + dealerHand2 + dealerHand3;
    document.getElementById("draw-data").innerHTML =  "The dealer picked " + dealerHand + ", " + dealerHand2 + ", " + dealerHand3 + " which equals " + total;
  } else {
    document.getElementById("draw-data").innerHTML =  "The dealer picked " + dealerHand + ", " + dealerHand2 + " which equals " + total;
  }
}



var hitCount = 0;
var cardCount = [];
var cardTotal = 0;
var i=0;
function user() {
  hitCount++;

  if (cardTotal < 21) {
    var userHand = pickaCard("user");
    cardCount.push(userHand);
    len = cardCount.length;
    console.log("array content = " + cardCount)

    for (; i < len; i++) {
      console.log("array length=" + cardCount.length);
      console.log("cardtotal at beginning of loop=" + cardTotal);
      console.log("Which part of array its on=" + cardCount[i]);
      cardTotal = cardTotal + cardCount[i];
      console.log("cardtotal at the end of loop= " + cardTotal);
    }
  }





  // document.getElementById("draw-data2").innerHTML = userHand;
  // if (hitCount >= 1) {
  //   function user() {
  //     var userHand2 = pickaCard("user");
  //     console.log(userHand);
  //     console.log(userHand2);
  //     document.getElementById("draw-data2").innerHTML = userHand + " " + userHand2;
  //   }
  // }
  console.log(cardCount);
}



function userDisplay() {

}


function lookatHands() {
  if (dealerHand > 21) {
    alert("House busts! You win!");
  } else if (userHand > dealerHand) {
    alert("You win!");
  } else if (userHand == dealerHand) {
    alert("Push!");
  } else {
    alert("House wins!");
  }
}






</script>


</body>
</html>